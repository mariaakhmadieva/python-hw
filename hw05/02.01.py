# –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –∏–≥—Ä—ã —Å –∫–æ–Ω—Ñ–µ—Ç–∞–º–∏ —á–µ–ª–æ–≤–µ–∫ –ø—Ä–æ—Ç–∏–≤ —á–µ–ª–æ–≤–µ–∫–∞.
# –£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏: –ù–∞ —Å—Ç–æ–ª–µ –ª–µ–∂–∏—Ç 2021 –∫–æ–Ω—Ñ–µ—Ç–∞.
# –ò–≥—Ä–∞—é—Ç –¥–≤–∞ –∏–≥—Ä–æ–∫–∞ –¥–µ–ª–∞—è —Ö–æ–¥ –¥—Ä—É–≥ –ø–æ—Å–ª–µ –¥—Ä—É–≥–∞. –ü–µ—Ä–≤—ã–π —Ö–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∂–µ—Ä–µ–±—å—ë–≤–∫–æ–π.
# –ó–∞ –æ–¥–∏–Ω —Ö–æ–¥ –º–æ–∂–Ω–æ –∑–∞–±—Ä–∞—Ç—å –Ω–µ –±–æ–ª–µ–µ —á–µ–º 28 –∫–æ–Ω—Ñ–µ—Ç.
# –í—Å–µ –∫–æ–Ω—Ñ–µ—Ç—ã –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞ –¥–æ—Å—Ç–∞—é—Ç—Å—è —Å–¥–µ–ª–∞–≤—à–µ–º—É –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥.
# –°–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–µ—Ç –Ω—É–∂–Ω–æ –≤–∑—è—Ç—å –ø–µ—Ä–≤–æ–º—É –∏–≥—Ä–æ–∫—É, —á—Ç–æ–±—ã –∑–∞–±—Ä–∞—Ç—å –≤—Å–µ –∫–æ–Ω—Ñ–µ—Ç—ã —É —Å–≤–æ–µ–≥–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞?

# –î–æ–±–∞–≤—å—Ç–µ –∏–≥—Ä—É –ø—Ä–æ—Ç–∏–≤ –±–æ—Ç–∞

from random import randint

player1 = input("–ò–º—è –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞: ")
player2 = input("–ü—Ä–∏–¥—É–º–∞–π –ú–Ω–µ –∏–º—è üòä: ")
value = int(input("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ñ–µ—Ç –Ω–∞ —Å—Ç–æ–ª–µ: "))

def take_input(name):
    while True:
        x = int(input(f'\n{name}, c–∫–æ–ª—å–∫–æ –≤–æ–∑—å–º—ë—à—å –∫–æ—Ñ–µ—Ç? –ù–µ –±–æ–ª–µ–µ 28 —à—Ç: '))
        if 1 > x or x > 28:
            print('–¢—ã –≤–≤–æ–¥–∏—à—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø–æ–ø—Ä–æ–±—É–π –∑–∞–Ω–æ–≤–æ)')
            continue
        return x

def res_print(name, k, counter, value):
    print(f"{name} –≤–∑—è–ª(–∞) {k} –∫–æ–Ω—Ñ–µ—Ç, —Ç–µ–ø–µ—Ä—å —É –Ω–µ–≥–æ(–Ω–µ—ë) {counter}. –ù–∞ —Å—Ç–æ–ª–µ –æ—Å—Ç–∞–ª–æ—Å—å {value} –∫–æ–Ω—Ñ–µ—Ç.")

lottery = randint(0, 2)
if lottery:
    print(f"\n–ü–µ—Ä–≤—ã–º —Ö–æ–¥–∏—Ç –∏–≥—Ä–æ–∫ {player1}.")
else:
    print(f"\n–ü–µ—Ä–≤—ã–º —Ö–æ–¥–∏—Ç –∏–≥—Ä–æ–∫ - {player2}.")

count_p1 = 0
count_p2 = 0

while value > 28:
    if lottery:
        k = take_input(player1)
        value -= k
        count_p1 += k
        lottery = False
        res_print(player1, k, count_p1, value)
    else:
        k = randint(0, 29)
        print(f'\n–Ø, –ø–æ–∂–∞–ª—É–π, –≤–æ–∑—å–º—É {k} –∫–æ–Ω—Ñ–µ—Ç.')
        value -= k
        count_p2 += k
        lottery = True
        res_print(player2, k, count_p2, value)

if lottery:
    print(f"\n–¢—ã –ø–æ–±–µ–¥–∏—Ç–µ–ª—å!üòâ")
else:
    print(f"\n–Ø –ø–æ–±–µ–¥–∏—Ç–µ–ª—å!üòç")